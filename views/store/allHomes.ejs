<%- include('../partials/head') %>
</head>

<body class="bg-gray-50 min-h-screen flex flex-col">

    <nav class="bg-white shadow-md">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">

            <!-- Logo -->
            <h1 class="text-2xl font-bold text-indigo-600">
                Cozy Stay
            </h1>

            <!-- Buttons -->
            <div class="space-x-4">
                
                <a href="/favourites"
                   class="px-4 py-2 text-gray-700 font-medium hover:text-indigo-600 transition">
                    Favourites
                </a>

                <a href="/"
                   class="px-4 py-2 text-gray-700 font-medium hover:text-indigo-600 transition">
                    Home
                </a>

                <a href="/host/addHome"
                   class="px-4 py-2 bg-indigo-600 text-white rounded-lg font-medium hover:bg-indigo-700 transition shadow">
                    Add Home
                </a>

                <a href="/login"
                   class="px-4 py-2 border border-indigo-600 text-indigo-600 rounded-lg font-medium hover:bg-indigo-50 transition">
                    Login
                </a>

            </div>
        </div>
    </nav>
    
    <% if (registeredHomes && registeredHomes.length > 0) { %>

    <!-- Centered Heading -->
    <div class="text-center mb-8">
        <h2 class="text-3xl mt-8 font-bold text-gray-800 tracking-wide">
            Here All The Registered Homes
        </h2>

        <!-- Decorative Line -->
        <div class="w-24 h-1 bg-indigo-600 mx-auto mt-2 rounded"></div>

        <!-- Subtitle (optional but looks premium) -->
        <p class="text-gray-500 mt-2 text-sm">
            Explore the best stays available for you
        </p>
    </div>

    <!-- Flex Container -->
    <div class="flex flex-wrap gap-6 justify-center">

        <% registeredHomes.forEach((home, index) => { %>
            
            <!-- Card -->
            <div class="w-full sm:w-[300px] bg-white shadow-lg rounded-xl overflow-hidden hover:shadow-2xl transition duration-300">

                <!-- Image -->
                <img 
                    src="<%= home.imageURL %>" 
                    alt="<%= home.houseName %>" 
                    class="w-full h-48 object-cover"
                >

                <!-- Content -->
                <div class="p-4">
                    <h3 class="text-lg font-semibold text-indigo-600 mb-1">
                        <%= home.houseName %>
                    </h3>

                    <p class="text-gray-600 text-sm mb-1">
                        üìç <%= home.city %>
                    </p>

                    <p class="text-gray-700 font-medium">
                        ‚Çπ <%= home.price %> / night
                    </p>

                    <p class="text-yellow-500 text-sm mb-4">
                        ‚≠ê <%= home.rating %>
                    </p>

                    <!-- Buttons -->
                    <div class="flex flex-col gap-2">

                        <!-- View Details -->
                        <a href="/allhomes/<%= home.id %>" 
                           class="text-center bg-indigo-100 text-indigo-600 py-2 rounded-lg font-medium hover:bg-indigo-200 transition">
                            View Details
                        </a>

                        <!-- Book Now -->
                        <a href="/book/<%= home.id %>" 
                           class="text-center bg-indigo-600 text-white py-2 rounded-lg font-medium hover:bg-indigo-700 transition">
                            Book Now
                        </a>

                        <!-- Add to Favourite -->
                        <form action="/favourite" method="POST">
                            <input type="hidden" name="homeId" value="<%= home.id %>">
                        <button
                            class="bg-pink-100 text-pink-600 px-6 py-3 rounded-lg hover:bg-pink-200">
                            ‚ù§ Add to Favourite
                        </button>
                        </form>

                    </div>

                </div>

            </div>

        <% }); %>

    </div>

<% } else { %>
    <p class="text-center text-gray-500">No homes added yet.</p>
<% } %>

</body>
</html>
